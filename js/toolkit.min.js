import"./darklite.min.js";import"./popup.min.js";import{g as b}from"./common.min.js";let c={getErrors(t){let a=0,o=t.querySelectorAll("[required]");return o.length&&o.forEach(e=>{(e.offsetParent!==null||e.tagName==="SELECT")&&!e.disabled&&(a+=this.validateInput(e))}),a},validateInput(t){let a=0;return t.type==="email"?(t.value=t.value.replace(" ",""),this.emailTest(t)?(this.addError(t),this.removeSuccess(t),a++):(this.removeError(t),this.addSuccess(t))):t.type==="checkbox"&&!t.checked?(this.addError(t),this.removeSuccess(t),a++):t.value.trim()?(this.removeError(t),this.addSuccess(t)):(this.addError(t),this.removeSuccess(t),a++),a},addError(t){t.classList.add("--form-error"),t.parentElement.classList.add("--form-error");let a=t.parentElement.querySelector("[data-fls-form-error]");a&&t.parentElement.removeChild(a),t.dataset.flsFormErrtext&&t.parentElement.insertAdjacentHTML("beforeend",`<div data-fls-form-error>${t.dataset.flsFormErrtext}</div>`)},removeError(t){t.classList.remove("--form-error"),t.parentElement.classList.remove("--form-error"),t.parentElement.querySelector("[data-fls-form-error]")&&t.parentElement.removeChild(t.parentElement.querySelector("[data-fls-form-error]"))},addSuccess(t){t.classList.add("--form-success"),t.parentElement.classList.add("--form-success")},removeSuccess(t){t.classList.remove("--form-success"),t.parentElement.classList.remove("--form-success")},removeFocus(t){t.classList.remove("--form-focus"),t.parentElement.classList.remove("--form-focus")},formClean(t){t.reset(),setTimeout(()=>{let a=t.querySelectorAll("input,textarea");for(let e=0;e<a.length;e++){const r=a[e];c.removeFocus(r),c.removeSuccess(r),c.removeError(r)}let o=t.querySelectorAll('input[type="checkbox"]');if(o.length&&o.forEach(e=>{e.checked=!1}),window.flsSelect){let e=t.querySelectorAll("select[data-fls-select]");e.length&&e.forEach(r=>{window.flsSelect.selectBuild(r)})}},0)},emailTest(t){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(t.value)}};function y(){function t(){const o=document.forms;if(o.length)for(const s of o)s.hasAttribute("data-fls-form-novalidate")||s.setAttribute("novalidate",!0),s.addEventListener("submit",function(n){const l=n.target;e(l,n)}),s.addEventListener("reset",function(n){const l=n.target;c.formClean(l)});async function e(s,n){if(c.getErrors(s)===0)if(s.dataset.flsForm==="ajax"){n.preventDefault();const i=s.getAttribute("action")?s.getAttribute("action").trim():"#",d=s.getAttribute("method")?s.getAttribute("method").trim():"GET",f=new FormData(s);s.classList.add("--sending");const u=await fetch(i,{method:d,body:f});if(u.ok){let p=await u.json();s.classList.remove("--sending"),r(s,p)}else s.classList.remove("--sending")}else s.dataset.flsForm==="dev"&&(n.preventDefault(),r(s));else if(n.preventDefault(),s.querySelector(".--form-error")&&s.hasAttribute("data-fls-form-gotoerr")){const i=s.dataset.flsFormGotoerr?s.dataset.flsFormGotoerr:".--form-error";b(i)}}function r(s,n=""){document.dispatchEvent(new CustomEvent("formSent",{detail:{form:s}})),setTimeout(()=>{if(window.flsPopup){const l=s.dataset.flsFormPopup;l&&window.flsPopup.open(l)}},0),c.formClean(s)}}function a(){document.body.addEventListener("focusin",function(o){const e=o.target;(e.tagName==="INPUT"||e.tagName==="TEXTAREA")&&(e.hasAttribute("data-fls-form-nofocus")||(e.classList.add("--form-focus"),e.parentElement.classList.add("--form-focus")),e.hasAttribute("data-fls-form-validatenow")&&c.removeError(e))}),document.body.addEventListener("focusout",function(o){const e=o.target;(e.tagName==="INPUT"||e.tagName==="TEXTAREA")&&(e.hasAttribute("data-fls-form-nofocus")||(e.classList.remove("--form-focus"),e.parentElement.classList.remove("--form-focus")),e.hasAttribute("data-fls-form-validatenow")&&c.validateInput(e))})}t(),a()}document.querySelector("[data-fls-form]")&&window.addEventListener("load",y);class x{constructor(a,o=null){let e={init:!0};if(this.config=Object.assign(e,a),this.config.init){const r=document.querySelectorAll("[data-fls-mouse]");r.length&&this.paralaxMouseInit(r)}}paralaxMouseInit(a){a.forEach(o=>{const e=o.closest("[data-fls-mouse-wrapper]"),r=+o.dataset.flsMouseCx||100,s=+o.dataset.flsMouseCy||100,n=o.hasAttribute("data-fls-mouse-dxr")?-1:1,l=o.hasAttribute("data-fls-mouse-dyr")?-1:1,i=o.dataset.prlxA?+o.dataset.prlxA:50;let d=0,f=0,u=0,p=0;h(),e?E(e):E();function h(){const v=u-d,m=p-f;d=d+v*i/1e3,f=f+m*i/1e3,o.style.cssText=`transform: translate3D(${n*d/(r/10)}%,${l*f/(s/10)}%,0) rotate(0.02deg);`,requestAnimationFrame(h)}function E(v=window){v.addEventListener("mousemove",function(m){const g=o.getBoundingClientRect().top+window.scrollY;if(g>=window.scrollY||g+o.offsetHeight>=window.scrollY){const w=window.innerWidth,A=window.innerHeight,L=m.clientX-w/2,S=m.clientY-A/2;u=L/w*100,p=S/A*100}})}})}}document.querySelector("[data-fls-mouse]")&&window.addEventListener("load",new x({}));
